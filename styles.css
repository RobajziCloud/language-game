
:root{
  --bg: #0e0b16;
  --panel: rgba(30, 25, 45, 0.6);
  --panel-strong: rgba(30,25,45,0.9);
  --text: #e7e3ff;
  --muted: #a89fd1;
  --accent: #a78bfa;
  --accent-2: #7c3aed;
  --good: #22c55e;
  --bad: #ef4444;
  --chip: rgba(167,139,250,0.15);
  --border: 1px solid rgba(167,139,250,0.2);
  --shadow: 0 10px 30px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.03);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Arial,Helvetica,sans-serif;
  color:var(--text); background: radial-gradient(1000px 600px at -10% -10%, #1a1330, transparent),
                     radial-gradient(800px 500px at 110% 10%, #231a48, transparent),
                     var(--bg);
}

.app-shell{display:grid; grid-template-columns: 260px 1fr; min-height:100vh}

.sidebar{padding:24px; border-right: var(--border); backdrop-filter: blur(12px); background: var(--panel);}
.brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:0.2px}
.dot{width:10px; height:10px; border-radius:50%; background:var(--text); position:relative}
.dot::after{content:""; position:absolute; width:6px; height:6px; right:-6px; top:2px; border-radius:50%; background:var(--accent)}
.brand-name{font-size:18px}

.nav{margin-top:24px; display:flex; flex-direction:column; gap:8px}
.nav-btn{
  text-align:left; background:transparent; color:var(--text); border:var(--border);
  padding:10px 12px; border-radius:14px; cursor:pointer; backdrop-filter: blur(6px);
}
.nav-btn.active,.nav-btn:hover{background:var(--chip);}
.footer-note{margin-top:auto; font-size:12px; color:var(--muted); opacity:0.8}

.main{padding:24px 28px; display:flex; flex-direction:column; gap:18px}

.topbar{display:flex; align-items:center; gap:16px; justify-content:space-between}
.progress-wrap{min-width:260px; flex:1}
.progress-label{font-size:12px; color:var(--muted); margin-bottom:6px}
.progress{height:10px; border-radius:999px; background:rgba(255,255,255,0.06); overflow:hidden; border:var(--border)}
.progress-bar{height:100%; width:0%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); transition:width 300ms ease}

.actions{display:flex; gap:10px}
button{font:inherit}
.primary{
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
  border:none; color:white; padding:12px 14px; border-radius:14px; cursor:pointer; box-shadow:var(--shadow);
}
.primary.small{padding:8px 12px; font-size:14px}
.ghost{background:transparent; color:var(--text); border:var(--border); padding:10px 12px; border-radius:14px; cursor:pointer}
.ghost:hover{background:var(--chip)}
.ghost.danger:hover{background: rgba(239,68,68,0.12); border-color: rgba(239,68,68,0.35)}

.view{display:none}
.view.active{display:block}

.board{display:flex; flex-direction:column; gap:16px}
.pool-header h2{margin:0 0 6px 0}
.pool-header p{margin:0; color:var(--muted)}

.word-pool{
  display:flex; flex-wrap:wrap; gap:10px; padding:16px;
  border-radius:16px; background:var(--panel); border:var(--border); box-shadow:var(--shadow);
  min-height:64px;
}

.block{
  user-select:none;
  padding:10px 12px; background:rgba(255,255,255,0.06);
  border:var(--border); border-radius:12px; cursor:grab; transition: transform 120ms ease, background 160ms ease;
  display:inline-flex; align-items:center; gap:8px;
}
.block:active{cursor:grabbing; transform:scale(0.98)}
.block .chip{font-size:11px; padding:2px 6px; border-radius:10px}
.chip{display:inline-flex; align-items:center; gap:6px; background:var(--chip); border:var(--border); padding:6px 8px; border-radius:999px}
.chip.success{background: rgba(34,197,94,0.16); border-color: rgba(34,197,94,0.35);}
.chip.error{background: rgba(239,68,68,0.16); border-color: rgba(239,68,68,0.35);}
.chip.subtle{opacity:0.85}

.canvas-header{display:flex; justify-content:space-between; align-items:center}
.canvas{
  display:grid; grid-auto-flow:column; grid-auto-columns:max-content;
  gap:10px; padding:18px; min-height:90px; align-items:center;
  border-radius:18px; background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  border:var(--border); box-shadow:var(--shadow);
  transition: min-height 250ms ease, padding 200ms ease;
}
.canvas.active{min-height:120px; padding:22px}

.placeholder{
  width:64px; height:36px; border-radius:12px; outline:2px dashed rgba(255,255,255,0.18); outline-offset:-4px; opacity:0.6
}

.result{display:flex; flex-direction:column; gap:12px}
.result.hidden{display:none}
.result-row{display:flex; align-items:center; gap:10px}
.correct-wrap{border:var(--border); border-radius:16px; padding:14px; background:var(--panel)}
.correct-title{font-size:12px; color:var(--muted); margin-bottom:6px}

.correct-sentence{display:flex; flex-wrap:wrap; gap:8px}
.correct-word{
  position:relative; padding:8px 10px; background:rgba(255,255,255,0.06); border:var(--border); border-radius:10px
}
.tooltip{
  position:absolute; bottom: calc(100% + 8px); left:50%; transform:translateX(-50%);
  background: var(--panel-strong); border:var(--border); padding:6px 8px; border-radius:8px; white-space:nowrap; font-size:12px; color:var(--text);
  opacity:0; pointer-events:none; transition:opacity 120ms ease, transform 120ms ease;
}
.correct-word:hover .tooltip{opacity:1; transform:translate(-50%,-2px)}

.panel{border:var(--border); background:var(--panel); padding:16px; border-radius:18px; box-shadow:var(--shadow)}
.stats-grid{display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:12px; margin:12px 0}
.stat-card{border:var(--border); border-radius:16px; padding:14px; background:rgba(255,255,255,0.04)}
.stat-value{font-size:28px; font-weight:700}
.stat-label{font-size:12px; color:var(--muted)}

@media (max-width: 960px){
  .app-shell{grid-template-columns: 1fr}
  .sidebar{display:none}
}
